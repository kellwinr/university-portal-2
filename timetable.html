<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTAR Portal | My Timetable</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="icon" href="assets/img/logo-placeholder.png">

    <style>
        /* --- 1. THE TIMETABLE GRID (Visual) --- */
        .timetable-scroll-wrapper {
            overflow-x: auto;
            margin-bottom: 40px;
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        .tt-grid {
            display: grid !important;
            /* 1st col (60px) + 24 cols (30-min slots) */
            grid-template-columns: 60px repeat(24, minmax(50px, 1fr)) !important; 
            grid-auto-rows: minmax(50px, auto);
            gap: 1px;
            background: #ccc; /* Grid lines */
            border: 1px solid #ccc;
            min-width: 1200px; /* Force scroll on small screens */
        }

        /* Header Cells */
        .tt-head, .tt-head-corner {
            background: #89C4F4; /* Light Blue */
            color: white;
            font-weight: 700;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 5px;
        }
        .tt-head { grid-column: span 2; /* Each hour spans 2 slots */ }

        /* Day Cells */
        .tt-day {
            background: #FDFD96; /* Yellow */
            color: #333;
            font-weight: 700;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Empty Slots */
        .tt-slot { background: white; }

        /* Class Blocks */
        .tt-block {
            padding: 4px;
            font-size: 10px;
            line-height: 1.3;
            color: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            border: 1px solid rgba(0,0,0,0.1);
        }
        .tt-block strong { font-weight: 800; font-size: 11px; margin-bottom: 2px; }
        .red-text { color: red; font-weight: 700; margin-top: 2px; }

        /* Block Colors */
        .lecture { background: #E3F2DA; } /* Green */
        .tutorial { background: #DAF0F2; } /* Blue/Cyan */


        /* --- 2. THE BOTTOM LIST TABLE --- */
        .list-header-row, .list-data-row {
            display: grid !important;
            /* Precise column widths matching your screenshot */
            grid-template-columns: 40px 100px 3fr 50px 60px 100px 60px 200px 50px !important;
            gap: 10px !important;
            padding: 12px 15px !important;
            align-items: center !important;
            font-size: 12px !important;
        }

        .list-header-row {
            background: #5D9CEC;
            color: white;
            font-weight: 700;
            text-transform: uppercase;
            text-align: center;
        }

        .list-data-row {
            background: white;
            border-bottom: 1px dashed #ccc;
            text-align: center;
        }
        
        /* Align text left for Description */
        .list-data-row > div:nth-child(3) { text-align: left; }
        
        .list-data-row a { text-decoration: none; color: #007AFF; font-weight: 700; }
        .link-cell { color: #007AFF; text-decoration: underline; cursor: pointer; }
    </style>
</head>
<body>

    <div class="background-mesh"></div>

    <header class="glass-nav animate-enter delay-1">
        <div class="nav-container">
            <a href="home.html" class="nav-logo">
                <img src="assets/img/logo-placeholder.png" alt="UTAR">
                <span>Portal</span>
            </a>
            <nav class="nav-links">
                <a href="home.html" class="nav-link">Home</a>
                <div class="nav-dropdown">
                    <a href="#" class="nav-link dropdown-trigger active">Menu ‚ñæ</a>
                    <div class="dropdown-menu glass-card">
                        <a href="timetable.html">Timetable</a>
                    </div>
                </div>
                <div class="nav-dropdown">
                    <a href="#" class="nav-link dropdown-trigger">Portfolio ‚ñæ</a>
                    <div class="dropdown-menu glass-card">
                        <a href="profile.html">Profile</a>
                    </div>
                </div>
            </nav>
            <div class="nav-user">
                <span class="user-name">Mr./Dr./Mrs. AB Tester</span>
                <a href="index.html" class="btn-logout">Logout</a>
            </div>
        </div>
    </header>

    <main class="portal-layout container">
        
        <aside class="portal-sidebar glass-card animate-enter delay-2">
            <h3>Academics</h3>
            <ul class="sidebar-menu">
                <li><a href="#" class="active">My Timetable</a></li>
                <li><a href="#">Course Registration</a></li>
            </ul>
        </aside>

        <section class="portal-content animate-enter delay-3">
            <div class="glass-card content-padding">
                
                <div id="view-selection">
                    <h2>My Timetable</h2>
                    <div class="info-box"><span class="icon">üìÖ</span><p>Select a session to view.</p></div>
                    <div class="billing-table-container">
                        <div style="display: grid; grid-template-columns: 0.5fr 1fr 2fr 1fr 1fr; padding: 15px; font-weight: 700; border-bottom: 1px solid #ccc;">
                            <div>No.</div><div>Session</div><div>Duration</div><div>Weeks</div><div style="text-align:right;">Action</div>
                        </div>
                        <div style="display: grid; grid-template-columns: 0.5fr 1fr 2fr 1fr 1fr; padding: 15px; background: white; margin-top: 10px; border-radius: 8px; align-items: center;">
                            <div>2</div><div><strong>202510</strong></div><div>03/11/2025 - 21/12/2025</div><div>7</div>
                            <div style="text-align: right;">
                                <button class="btn-card-action" onclick="showTimetable()" style="padding: 8px 16px;">View Timetable</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="view-schedule" style="display: none;">
                    <div class="profile-top-header">
                        <h2>My Timetable</h2>
                        <button class="btn-edit-profile" onclick="hideTimetable()">‚Üê Back</button>
                    </div>
                    
                    <div class="timetable-scroll-wrapper styled-scroll">
                        <div class="tt-grid">
                            
                            <div class="tt-head-corner" style="background:#5D9CEC; color:white;">Day/Time</div>
                            <div class="tt-head">07:00</div><div class="tt-head">08:00</div>
                            <div class="tt-head">09:00</div><div class="tt-head">10:00</div>
                            <div class="tt-head">11:00</div><div class="tt-head">12:00</div>
                            <div class="tt-head">01:00</div><div class="tt-head">02:00</div>
                            <div class="tt-head">03:00</div><div class="tt-head">04:00</div>
                            <div class="tt-head">05:00</div><div class="tt-head">06:00</div>

                            <div class="tt-day">Mon</div>
                            <div class="tt-slot empty" style="grid-column: span 6;"></div>
                            <div class="tt-block lecture" style="grid-column: span 4;">
                                <strong>LDK2</strong><span>UAPP3063(L)(1)</span><span>Physical</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-slot empty" style="grid-column: span 3;"></div>
                            <div class="tt-block lecture" style="grid-column: span 4;">
                                <strong>LDK1</strong><span>UAPP3063(L)(1)</span><span>Physical</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-slot empty" style="grid-column: span 7;"></div>

                            <div class="tt-day">Tue</div>
                            <div class="tt-slot empty" style="grid-column: span 6;"></div>
                            <div class="tt-block lecture" style="grid-column: span 6;">
                                <strong>LDK4</strong><span>UAPP3074(L)(1)</span><span>Physical</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-slot empty" style="grid-column: span 6;"></div>
                            <div class="tt-block tutorial" style="grid-column: span 2;">
                                <strong>H015</strong><span>UAPP3063(T)(4)</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-block tutorial" style="grid-column: span 2;">
                                <strong>H015</strong><span>UAPP3063(T)(4)</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-slot empty" style="grid-column: span 2;"></div>

                            <div class="tt-day">Wed</div>
                            <div class="tt-slot empty" style="grid-column: span 2;"></div>
                            <div class="tt-block lecture" style="grid-column: span 6;">
                                <strong>LDK4</strong><span>UAPP3074(L)(1)</span><span>Physical</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-slot empty" style="grid-column: span 10;"></div>
                            <div class="tt-block tutorial" style="grid-column: span 2;">
                                <strong>P107</strong><span>UAPP3074(T)(4)</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-block tutorial" style="grid-column: span 2;">
                                <strong>P107</strong><span>UAPP3074(T)(4)</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-slot empty" style="grid-column: span 2;"></div>

                            <div class="tt-day">Thu</div><div class="tt-slot empty" style="grid-column: span 24;"></div>
                            <div class="tt-day">Fri</div><div class="tt-slot empty" style="grid-column: span 24;"></div>
                            <div class="tt-day">Sat</div><div class="tt-slot empty" style="grid-column: span 24;"></div>

                            <div class="tt-day">Sun</div>
                            <div class="tt-slot empty" style="grid-column: span 2;"></div>
                            <div class="tt-block lecture" style="grid-column: span 4;">
                                <strong>UAPZ3013(L)(3)</strong><span>Physical</span><span class="red-text">1-7</span>
                            </div>
                            <div class="tt-slot empty" style="grid-column: span 18;"></div>

                        </div>
                    </div>

                    <div style="margin-top: 40px;">
                        <div class="list-header-row">
                            <div>No</div><div>Unit</div><div>Description</div><div>Type</div><div>Group</div>
                            <div>Attn</div><div>Day</div><div>Time</div><div>Hour</div>
                        </div>

                        <div class="list-data-row">
                            <div>1</div>
                            <div><a href="#" onclick="openLecturerModal('UAPP3063')">UAPP3063</a></div>
                            <div>HEALTH PSYCHOLOGY</div>
                            <div>L</div><div>1</div><div class="link-cell">View</div>
                            <div>Mon<br>Mon</div>
                            <div>10:00 AM - 12:00 PM<br>1:30 PM - 3:30 PM</div>
                            <div>2.0<br>2.0</div>
                        </div>

                        <div class="list-data-row">
                            <div>2</div>
                            <div><a href="#" onclick="openLecturerModal('UAPP3074')">UAPP3074</a></div>
                            <div>CONTEMPORARY ISSUES</div>
                            <div>L</div><div>1</div><div class="link-cell">View</div>
                            <div>Tue<br>Wed</div>
                            <div>10:00 AM - 1:00 PM<br>8:00 AM - 11:00 AM</div>
                            <div>3.0<br>3.0</div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
    </main>

    <div id="lecturer-modal" class="modal-overlay" style="display: none;">
        <div class="modal-glass-card animate-enter">
            <div class="modal-header">
                <h3>Lecturer's available time slot for Unit <span id="modal-unit-code"></span></h3>
                <button class="btn-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="lecturer-header">
                    <div class="lecturer-info">
                        <div class="data-row-modal"><span class="label">Name:</span> <span class="value" id="modal-lecturer-name">Dr.Nurul Iman</span></div>
                        <div class="data-row-modal"><span class="label">Email:</span> <span class="value email-link">imanj@utar.edu.my</span></div>
                        <div class="data-row-modal"><span class="label">Room:</span> <span class="value">PF-074</span></div>
                    </div>
                    <div style="font-size:50px;">üßï</div>
                </div>
                <p style="margin-top:20px; color:red;">-- No available time slot. --</p>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
    <script>
        function showTimetable() { document.getElementById('view-selection').style.display='none'; document.getElementById('view-schedule').style.display='block'; }
        function hideTimetable() { document.getElementById('view-selection').style.display='block'; document.getElementById('view-schedule').style.display='none'; }
        function openLecturerModal(unit) { document.getElementById('modal-unit-code').innerText=unit; document.getElementById('lecturer-modal').style.display='flex'; }
        function closeModal() { document.getElementById('lecturer-modal').style.display='none'; }
    </script>
</body>
</html>
