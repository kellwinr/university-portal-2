<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UTAR Portal | My Timetable</title>
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="icon" href="assets/img/logo-placeholder.png">
</head>
<body>

    <div class="background-mesh"></div>

    <header class="glass-nav animate-enter delay-1">
        <div class="nav-container">
            <a href="home.html" class="nav-logo">
                <img src="assets/img/logo-placeholder.png" alt="UTAR">
                <span>Portal</span>
            </a>
            <nav class="nav-links">
                <a href="home.html" class="nav-link">Home</a>
                
                <div class="nav-dropdown">
                    <a href="#" class="nav-link dropdown-trigger active">Menu ‚ñæ</a>
                    <div class="dropdown-menu glass-card">
                        <a href="#">Academic Calendar</a>
                        <a href="#">Programme Structure</a>
                        <a href="timetable.html">Timetable</a>
                        <a href="#">Bus Schedule</a>
                    </div>
                </div>

                <div class="nav-dropdown">
                    <a href="#" class="nav-link dropdown-trigger">Portfolio ‚ñæ</a>
                    <div class="dropdown-menu glass-card">
                        <a href="profile.html">Profile</a>
                        <a href="#">My Blogger</a>
                        <a href="#">My Google+</a>
                        <a href="#">Alumni Relations</a>
                    </div>
                </div>
            </nav>
            <div class="nav-user">
                <span class="user-name">Mr. AB Test User</span>
                <a href="index.html" class="btn-logout">Logout</a>
            </div>
        </div>
    </header>

    <main class="portal-layout container">
        
        <aside class="portal-sidebar glass-card animate-enter delay-2">
            <h3>Academics</h3>
            <ul class="sidebar-menu">
                <li><a href="#" class="active">My Timetable</a></li>
                <li><a href="#">Course Registration</a></li>
                <li><a href="#">Exam Schedule</a></li>
            </ul>
        </aside>

        <section class="portal-content animate-enter delay-3">
            
            <div class="glass-card content-padding">
                
                <div id="view-selection">
                    <h2>My Timetable</h2>
                    <div class="info-box">
                        <span class="icon">üìÖ</span>
                        <p>Select a session below to view your class schedule and lecturer details.</p>
                    </div>

                    <div class="billing-table-container">
                        <div class="timetable-header-row">
                            <div>No.</div>
                            <div>Session</div>
                            <div>Duration</div>
                            <div>Weeks</div>
                            <div style="text-align: right;">Action</div>
                        </div>

                        <div class="timetable-data-row glass-card">
                            <div class="data-cell">1</div>
                            <div class="data-cell">202602</div>
                            <div class="data-cell">02/02/2026 - 10/05/2026</div>
                            <div class="data-cell">14</div>
                            <div class="data-cell" style="text-align: right;">
                                <span style="font-size: 20px;">üîí</span>
                            </div>
                        </div>

                        <div class="timetable-data-row glass-card">
                            <div class="data-cell">2</div>
                            <div class="data-cell"><strong>202510</strong></div>
                            <div class="data-cell">03/11/2025 - 21/12/2025</div>
                            <div class="data-cell">7</div>
                            <div class="data-cell" style="text-align: right;">
                                <button class="btn-card-action" onclick="showTimetable()" style="width: auto; padding: 8px 16px; display: inline-block;">
                                    View Timetable
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="view-schedule" style="display: none;">
                    <div class="profile-top-header">
                        <h2>Session 202510</h2>
                        <button class="btn-edit-profile" onclick="hideTimetable()">‚Üê Back to List</button>
                    </div>

                    <div class="info-box" style="background: rgba(255, 59, 48, 0.05); border-color: rgba(255, 59, 48, 0.2);">
                        <span class="icon" style="color: var(--utar-red);">‚ö†Ô∏è</span>
                        <p style="font-size: 13px;">The class timetable is subject to change without prior notice.</p>
                    </div>

                    <div class="timetable-scroll-wrapper styled-scroll">
                        <div class="tt-grid">
                            <div class="tt-head"></div> <div class="tt-head">08:00</div>
                            <div class="tt-head">09:00</div>
                            <div class="tt-head">10:00</div>
                            <div class="tt-head">11:00</div>
                            <div class="tt-head">12:00</div>
                            <div class="tt-head">13:00</div>
                            <div class="tt-head">14:00</div>
                            <div class="tt-head">15:00</div>
                            <div class="tt-head">16:00</div>
                            <div class="tt-head">17:00</div>
                            <div class="tt-head">18:00</div>

                            <div class="tt-day">MON</div>
                            <div class="tt-slot empty"></div> <div class="tt-slot empty"></div> 
                            <div class="tt-block" style="grid-column: span 2; background: #e0f2fe; border-left: 3px solid #007AFF;">
                                <strong>UAPP3063 (L)</strong><br>Health Psych<br>Room LDK2
                            </div>
                            <div class="tt-slot empty"></div> 
                            <div class="tt-slot empty"></div> 
                            <div class="tt-block" style="grid-column: span 2; background: #f0fdf4; border-left: 3px solid #34c759;">
                                <strong>UAPP3063 (T)</strong><br>Tutorial<br>Room H012
                            </div>
                            <div class="tt-slot empty"></div> 
                            <div class="tt-slot empty"></div> 
                            <div class="tt-slot empty"></div> 

                            <div class="tt-day">TUE</div>
                            <div class="tt-slot empty"></div> 
                            <div class="tt-slot empty"></div> 
                            <div class="tt-block" style="grid-column: span 3; background: #fff7ed; border-left: 3px solid #ff9500;">
                                <strong>UAPP3074 (L)</strong><br>Contemporary Issues<br>Room LDK4
                            </div>
                            <div class="tt-slot empty"></div> 
                            <div class="tt-slot empty"></div> 
                            <div class="tt-slot empty"></div> 
                            <div class="tt-block" style="grid-column: span 1; background: #f3e8ff; border-left: 3px solid #9333ea;">
                                <strong>Tute</strong><br>H015
                            </div>
                            <div class="tt-slot empty"></div> 
                            <div class="tt-slot empty"></div> 

                             <div class="tt-day">WED</div>
                             <div class="tt-slot empty"></div> 
                             <div class="tt-block" style="grid-column: span 2; background: #fff1f2; border-left: 3px solid #e11d48;">
                                 <strong>UAPZ3013</strong><br>Final Year Project
                             </div>
                             <div class="tt-slot empty"></div> 
                             <div class="tt-slot empty"></div> 
                             <div class="tt-slot empty"></div> 
                             <div class="tt-slot empty"></div> 
                             <div class="tt-slot empty"></div> 
                             <div class="tt-slot empty"></div> 
                             <div class="tt-slot empty"></div> 
                             <div class="tt-slot empty"></div> 
 
                        </div>
                    </div>

                    <div class="billing-table-container" style="margin-top: 40px;">
                        <h3 class="section-title">Registered Courses</h3>
                        <div class="timetable-list-header">
                            <div>Unit Code</div>
                            <div>Description</div>
                            <div>Type</div>
                            <div>Group</div>
                        </div>

                        <div class="timetable-list-row glass-card">
                            <div class="data-cell">
                                <a href="#" onclick="openLecturerModal('UAPP3063')">UAPP3063</a>
                            </div>
                            <div class="data-cell">HEALTH PSYCHOLOGY</div>
                            <div class="data-cell">Lecture</div>
                            <div class="data-cell">1</div>
                        </div>

                        <div class="timetable-list-row glass-card">
                            <div class="data-cell">
                                <a href="#" onclick="openLecturerModal('UAPP3074')">UAPP3074</a>
                            </div>
                            <div class="data-cell">CONTEMPORARY ISSUES IN PSYCHOLOGY</div>
                            <div class="data-cell">Lecture</div>
                            <div class="data-cell">1</div>
                        </div>

                        <div class="timetable-list-row glass-card">
                            <div class="data-cell">
                                <a href="#" onclick="openLecturerModal('UAPZ3013')">UAPZ3013</a>
                            </div>
                            <div class="data-cell">FINAL YEAR PROJECT I</div>
                            <div class="data-cell">Lecture</div>
                            <div class="data-cell">3</div>
                        </div>
                    </div>

                </div>

            </div>
        </section>
    </main>

    <div id="lecturer-modal" class="modal-overlay" style="display: none;">
        <div class="modal-glass-card animate-enter">
            <div class="modal-header">
                <h3>Lecturer Availability</h3>
                <button class="btn-close" onclick="closeModal()">√ó</button>
            </div>
            
            <div class="modal-body">
                <div class="lecturer-header">
                    <div class="lecturer-info">
                        <h2 id="modal-unit-code">UAPP3063</h2>
                        <h4 id="modal-lecturer-name">Dr. Jane Doe</h4>
                        <p id="modal-faculty">Faculty of Arts and Social Science</p>
                        <p id="modal-dept">Department of Psychology</p>
                        <p class="email-link" id="modal-email">jane.doe@mock.utar.edu.my</p>
                    </div>
                    <div class="lecturer-photo">
                        <div class="mock-avatar">üë©‚Äçüè´</div>
                    </div>
                </div>

                <hr class="profile-divider">

                <div class="modal-details">
                    <div class="data-row">
                        <span class="label">Room:</span>
                        <span class="value">PF-074 (FGO Office)</span>
                    </div>
                    <div class="data-row">
                        <span class="label">Consultation:</span>
                        <span class="value" style="color: var(--utar-red);">-- No slots available this week --</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/main.js"></script>
    
    <script>
        function showTimetable() {
            document.getElementById('view-selection').style.display = 'none';
            document.getElementById('view-schedule').style.display = 'block';
        }

        function hideTimetable() {
            document.getElementById('view-selection').style.display = 'block';
            document.getElementById('view-schedule').style.display = 'none';
        }

        // MOCK DATA FOR MODAL
        const lecturerData = {
            'UAPP3063': { name: 'Dr. Jane Doe', email: 'janedoe@utar.edu.my' },
            'UAPP3074': { name: 'Mr. John Wick', email: 'wick@utar.edu.my' },
            'UAPZ3013': { name: 'Prof. X', email: 'profx@utar.edu.my' }
        };

        function openLecturerModal(unitCode) {
            const data = lecturerData[unitCode] || lecturerData['UAPP3063'];
            document.getElementById('modal-unit-code').innerText = "Unit: " + unitCode;
            document.getElementById('modal-lecturer-name').innerText = data.name;
            document.getElementById('modal-email').innerText = data.email;
            
            document.getElementById('lecturer-modal').style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('lecturer-modal').style.display = 'none';
        }
    </script>
</body>
</html>
